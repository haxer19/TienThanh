local function GetN_Child(Folder, Class)
    local names = {}
    for _, v in pairs(Folder:GetChildren()) do
        if v:IsA(Class) then
            table.insert(names, v.Name)
        end
    end
    return names
end
local function GetN_Des(Folder, Class)
    local names = {}
    for _, v in pairs(Folder:GetDescendants()) do
        if v:IsA(Class) then
            table.insert(names, v.Name)
        end
    end
    return names
end
function _Attack()
game:GetService('VirtualUser'):CaptureController()
game:GetService('VirtualUser'):ClickButton1(Vector2.new(851, 158),game:GetService("Workspace").Camera.CFrame)
end
function EquipTool()
    for _, v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
    if v:IsA("Tool") and v.Name == _G.Weapon then
        game.Players.LocalPlayer.Character.Humanoid:EquipTool(v)
    end
  end
end
local function TP(cframe)
    pcall(function()
        local character = game.Players.LocalPlayer.Character
        if character and character.PrimaryPart then
            character:SetPrimaryPartCFrame(cframe)
        end
    end)
end
function Up(a, b)
    game:GetService("Players").LocalPlayer.PlayerGui.Main.Stats.Main.Setting.Event:FireServer(a, b)
end

------[[ Local Global ]]------

local Wsp = game:GetService("Workspace")
local Ply = game:GetService("Players")
local ChaPly = Ply.LocalPlayer.Character or Ply.LocalPlayer.CharacterAdded:Wait()
local NameMap = game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name
local Wea = GetN_Child(game.Players.LocalPlayer.Backpack,"Tool")
local island = GetN_Child(workspace.Map,"Model")
local Chest = {"Rare Chest","Epic Chest", "Legendary Chest", "Mythical Chest"}
local Shop = GetN_Des(Wsp.Npc,"Model")
local Mon = {"Bandit [Lv.5]","Bandit Leader [Lv.50]","Monkey [Lv.100]","Monkey King [Lv.150]","Snow Bandit [Lv.300]","Snow Bandit Leader [Lv.450]","Curse Spirit [Lv.750]","Desert Thief [Lv.1000]","Desert King [Lv.1500]","Marine Soldier [Lv.2000]","Arrancar [Lv.2000]","Dark Adventure [Lv.2500]"}
local WindUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/Footagesus/WindUI/main/dist/main.lua"))()
local _gv = getgenv()
local Window = WindUI:CreateWindow({
    Title = "Verse Piece",
    Icon = "rbxassetid://139030006778308",
    Author = "Tien Thanh",
    Folder = "TienThanh",
    Size = UDim2.fromOffset(540, 340),
    Transparent = true,
    Theme = "Dark",
    UserEnabled = false,
    SideBarWidth = 170,
    HasOutline = true,
	ToggleKey = Enum.KeyCode.RightControl,
})

Window:EditOpenButton({
    Title = "",
    Icon = "rbxassetid://139030006778308",
    CornerRadius = UDim.new(0, 10),
    StrokeThickness = 2,
    Color = ColorSequence.new( 
        Color3.fromHex("00FF9F"),  
        Color3.fromHex("00FFF7")   
    ),
    Draggable = true,
})

WindUI:AddTheme({
    Name = "NeoCyber",
    Accent = "#00D6AA",          
    Outline = "#15181D",           
    Background = "#0E1117",        
    SecondaryBackground = "#1A1F27",
    Text = "#C2F0F0",               
    PlaceholderText = "#5A7F7F"     
})

WindUI:SetTheme("NeoCyber")

local Tab = {
    T1 = Window:Tab({Title = "ðŸ—¡ï¸| Farm"}),
    T5 = Window:Tab({Title = "âš”ï¸| Boss"}),
    T2 = Window:Tab({Title = "ðŸ“Š| Stats"}),
    T3 = Window:Tab({Title = "ðŸ“Œ| Teleport"}),
    T4 = Window:Tab({Title = "ðŸ”®| Main"}),
}

Window:SelectTab(1)
Tab.T1:Section(Title = "| No Quest")
Tab.T1:Dropdown("Dropdown", {
   Title = "Select Mon",
   Values = Mon,
   Value = "",
   Callback = function(mikd)
   _gv.SLM = mikd
   end
})

Tab.T1:Toggle("Toggle", {
    Title = "Farm Mon",
    Default = false,
    Callback = function(He)
        _gv.ATF = He
    end
})
Tab.T5:Toggle("Toggle", {
    Title = "Farm AllBoss",
    Default = false,
    Callback = function(Bossna)
        _gv.ATFAll = Bossna
    end
})
Tab.T5:Toggle("Toggle", {
    Title = "Auto Open Chest",
    Default = false,
    Callback = function(Bossnak)
        _G.AutoOpenCh = Bossnak
    end
})
Tab.T2:Slider("Slider", {
        Title = "Set Number",
        Value = { Min = 0, Max = 100, Default = 50 },
        Callback = function(Num)
            _G.StatsNum = Num
        end
    })
Tab.T2:Toggle("Toggle", {
    Title = "Strength",
    Default = false,
    Callback = function(Strength)
          _G.Strength = Strength
            while _G.Strength do task.wait()
        Up("Strength", StatsNum)
        end
    end
})
Tab.T2:Toggle("Toggle", {
    Title = "Defense",
    Default = false,
    Callback = function(Defense)
          _G.Defense = Defense
            while _G.Defense do task.wait()
        Up("Defense", StatsNum)
        end
    end
})
Tab.T2:Toggle("Toggle", {
    Title = "Sword",
    Default = false,
    Callback = function(Sword)
    _G.Sword = Sword
      while _G.Sword do task.wait()
        Up("Sword", StatsNum)
        end
    end
})
Tab.T2:Toggle("Toggle", {
    Title = "Special",
    Default = false,
    Callback = function(Special)
          _G.Special = Special
            while _G.Special do task.wait()
        Up("Special", StatsNum)
        end
    end
})
Tab.T3:Section(Title = "| Shop")
Tab.T3:Dropdown("Dropdown", {
   Title = "Select NPC",
   Values = Shop,
   
   Value = "",
   Callback = function(MKKm)
     _G.ILm = MKKm
   end
})
Tab.T3:Button({
    Title = "teleport NPC",
    Callback = function()
   for i, v in pairs(game:GetService("Workspace").Npc:GetDescendants()) do
          if v.Name == _G.ILm then
           game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.WorldPivot * CFrame.new(0, 10, 0)
          end
        end
    end
})
Tab.T3:Section(Title = "| island")
Tab.T3:Dropdown("Dropdown", {
   Title = "Select island",
   Values = island,
   
   Value = "",
   Callback = function(MKK)
     _G.IL = MKK
   end
})
Tab.T3:Button({
    Title = "teleport island",
    Callback = function()
   for i, v in pairs(game:GetService("Workspace").Map:GetDescendants()) do
          if v.Name == _G.IL then
           game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.WorldPivot * CFrame.new(0, 100, 0)
          end
        end
    end
})

Tab.T4:Section(Title = "| Weapon")
local Weaponlist = {}

local SelectWeapon = Tab.T4:Dropdown("SelectWeapon", {
    Title = "Select Weapon",
    Values = Weaponlist,
    
    Default = false,
    Callback = function(selectedWeapon)
        _G.Weapon = selectedWeapon
        print("Selected " .. _G.Weapon)
    end
})

local function RefreshWeaponList()
    Weaponlist = {}
    for i,v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do  
    if v:IsA("Tool") then
       table.insert(Weaponlist ,v.Name)
    end
end
for i,v in pairs(game.Players.LocalPlayer.Character:GetChildren()) do  
    if v:IsA("Tool") then
       table.insert(Weaponlist, v.Name)
    end
end
    SelectWeapon:SetValues(Weaponlist)
end

Tab.T4:Button({
    Title = "Refresh Weapon",
    Description = "",
    Callback = RefreshWeaponList
})

RefreshWeaponList()

Tab.T4:Toggle("Toggle", {
    Title = "ONE SHOT[67%]",
    Default = false,
    Callback = function(MNae)
getgenv().Config = {
    ["Folder Mon"] = "Main",
    ["Instant Kill"] = MNae,
    ["Radius"] = 15
    }
    end})
Tab.T4:Section(Title = "| Skill")
    Tab.T4:Toggle("Toggle", {
    Title = "Z",
    Default = false,
    Callback = function(Z)
    _G.Z = Z
    end})
    Tab.T4:Toggle("Toggle", {
    Title = "X",
    Default = false,
    Callback = function(X)
    _G.X = X
   end})
    Tab.T4:Toggle("Toggle", {
    Title = "C",
    Default = false,
    Callback = function(C)
    _G.C = C
    end})
    Tab.T4:Toggle("Toggle", {
    Title = "V",
    Default = false,
    Callback = function(V)
    _G.V = V
    end})
    Tab.T4:Toggle("Toggle", {
    Title = "F",
    Default = false,
    Callback = function(F)
    _G.F = F
end})
Tab.T4:Section(Title = "| Performance")
Tab.T4:Toggle("Toggle", {
    Title = "Delete Effect",
    Default = false,
    Callback = function(eleff)
     _G.Deleff = eleff
end})

------[[ Spawn Function ]]------

spawn(function()
    while true do
        task.wait()
        pcall(function()
            if _gv.ATF then
                local Monster = game:GetService("Workspace").Main
                for _, v in pairs(Monster:GetDescendants()) do
                    if v.Name == _gv.SLM then
                        local humanoid = v:FindFirstChild("Humanoid")
                        local hrp = v:FindFirstChild("HumanoidRootPart")
                        if hrp and humanoid and humanoid.Health > 0 then
                            hrp.Size = Vector3.new(20, 20, 20)
                            hrp.Transparency = 0.9
                            hrp.CanCollide = false
                            humanoid.WalkSpeed = 0
                            humanoid.JumpPower = 0
                            repeat
                                task.wait(0)
                                _Attack()
                                EquipTool()
                                if _gv.ATF and humanoid.Health > 1 then
                                    TP(v.HumanoidRootPart.CFrame * CFrame.new(0, 8, 0) * CFrame.Angles(math.rad(-90), 0, 0))
                                end
                            until not _gv.ATF or humanoid.Health <= 0
                        end
                    end
                end
            end
        end)
    end
end)

spawn(function()
    while true do
        task.wait()
        pcall(function()
            if _gv.ATFAll then
                local Boss = game:GetService("Workspace").Main.Boss
                for _, v in pairs(Boss:GetDescendants()) do
                    if v.Name and v:IsA("Model") then
                        local humanoid = v:FindFirstChild("Humanoid")
                        local hrp = v:FindFirstChild("HumanoidRootPart")
                        if hrp and humanoid and humanoid.Health > 0 then
                            hrp.Size = Vector3.new(20, 20, 20)
                            hrp.Transparency = 0.9
                            hrp.CanCollide = false
                            humanoid.WalkSpeed = 0
                            humanoid.JumpPower = 0
                            repeat
                                task.wait(0)
                                _Attack()
                                EquipTool()
                                if _gv.ATFAll and humanoid.Health > 1 then
                                    TP(v.HumanoidRootPart.CFrame * CFrame.new(0, 8, 0) * CFrame.Angles(math.rad(-90), 0, 0))
                                end
                            until not _gv.ATFAll or humanoid.Health <= 0
                        end
                    end
                end
            end
        end)
    end
end)
spawn(function()
    while true do
        task.wait()
        pcall(function()
            if _G.AutoOpenCh then
                for _, v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
                    if v:IsA("Tool") and table.find(Chest, v.Name) then
                        game.Players.LocalPlayer.Character.Humanoid:EquipTool(v)
                        _Attack()
                    end
                end
            end
        end)
    end
end)
spawn(function()
    while wait() do
        pcall(function()
            if getgenv().Config["Instant Kill"] then
                local player = game.Players.LocalPlayer
                local character = player.Character or player.CharacterAdded:Wait()
                sethiddenproperty(player, "SimulationRadius", 112412400000)
                sethiddenproperty(player, "MaxSimulationRadius", 112412400000)
                local Den
                if not getgenv().Config["Folder Mon"] then
                    Den = game.Workspace:GetDescendants()
                else
                    Den = game.Workspace[getgenv().Config["Folder Mon"]]:GetDescendants()
                end
                for _, v in pairs(Den) do
                    if v:IsA("Humanoid") and v.Parent and v.Parent:IsA("Model") then
                        local MonPoz = v.Parent:FindFirstChild("HumanoidRootPart") and v.Parent.HumanoidRootPart.Position
                        local PlayerPoz = character:FindFirstChild("HumanoidRootPart") and character.HumanoidRootPart.Position
                        if not game.Players:GetPlayerFromCharacter(v.Parent) then
                            if MonPoz and PlayerPoz and (MonPoz - PlayerPoz).Magnitude <= getgenv().Config["Radius"] then
                                if v.Health <= v.MaxHealth * 0.9 then
                                    task.wait(0)
                                    v.Health = 0
                                end
                            end
                        end
                    end
                end
            end
        end)
    end
end)
spawn(function()
    while true do
        task.wait()
        pcall(function()
            if _G.Z then
                game:GetService("VirtualInputManager"):SendKeyEvent(true, 122, false, game)
                game:GetService("VirtualInputManager"):SendKeyEvent(false, 122, false, game)
            end
        end)
    end
end)
spawn(function()
    while true do
        task.wait()
        pcall(function()
            if _G.X then
                game:GetService("VirtualInputManager"):SendKeyEvent(true, 120, false, game)
                game:GetService("VirtualInputManager"):SendKeyEvent(false, 120, false, game)
            end
        end)
    end
end)
spawn(function()
    while true do
        task.wait()
        pcall(function()
            if _G.C then
                game:GetService("VirtualInputManager"):SendKeyEvent(true, 99, false, game)
                game:GetService("VirtualInputManager"):SendKeyEvent(false, 99, false, game)
            end
        end)
    end
end)
spawn(function()
    while true do
        task.wait()
        pcall(function()
            if _G.V then
                game:GetService("VirtualInputManager"):SendKeyEvent(true, 118, false, game)
                game:GetService("VirtualInputManager"):SendKeyEvent(false, 118, false, game)
            end
        end)
    end
end)
spawn(function()
    while true do
        task.wait()
        pcall(function()
            if _G.F then
                game:GetService("VirtualInputManager"):SendKeyEvent(true, 102, false, game)
                game:GetService("VirtualInputManager"):SendKeyEvent(false, 102, false, game)
            end
        end)
    end
end)
spawn(function()
    while task.wait() do
        pcall(function()
            if _G.Deleff then
                for _, object in ipairs(workspace.Effects:GetChildren()) do
                    print("Destroying object:", object.Name)
                    object:Destroy()
                end
            end
        end)
    end
end)
spawn(function()
    game:GetService("RunService").Stepped:Connect(function()
        if _gv.ATF or _gv.ATFAll then
            local hrp = game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            if hrp and not hrp:FindFirstChild("BodyClip") then
                local noclip = Instance.new("BodyVelocity")
                noclip.Name = "BodyClip"
                noclip.Parent = hrp
                noclip.MaxForce = Vector3.new(100000, 100000, 100000)
                noclip.Velocity = Vector3.new(0, 0, 0)
            end
        else
            local hrp = game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            if hrp and hrp:FindFirstChild("BodyClip") then
                hrp.BodyClip:Destroy()
            end
        end
    end)
end)
